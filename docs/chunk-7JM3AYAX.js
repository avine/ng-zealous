import{Da as d,S as o,X as t,fa as s,ma as c,mc as l,na as m,va as h,vc as p}from"./chunk-Q6FETACP.js";var a=class i{isServer=p(t(h));document=t(s);request=t(l);set(e,r){return this.isServer?Promise.resolve():typeof e=="string"?this.document.defaultView.cookieStore.set(e,r??""):this.document.defaultView.cookieStore.set(e)}get(e){return this.cookie.match(new RegExp(`${e}=([^;]+)`))?.[1]}get cookie(){return(this.isServer?this.request?.headers.get("cookie"):this.document.cookie)??""}static \u0275fac=function(r){return new(r||i)};static \u0275prov=o({token:i,factory:i.\u0275fac,providedIn:"root"})};var n="z-theme",f="z-theme-dark";var u=class i{renderer=t(d).createRenderer(null,null);document=t(s);cookieService=t(a);_theme=c(this.getCookie()??this.getDefault(),{});theme=this._theme.asReadonly();initialized=!1;init(){if(this.initialized){console.warn("ZThemeService: has already been initialized.");return}this.initialized=!0,m(()=>{let e=this._theme();this.applyTheme(e),this.setCookie(e)})}switch(e){this._theme.update(r=>e??r==="light"?"dark":"light")}applyTheme(e){this.renderer[e==="light"?"removeClass":"addClass"](this.document.body,f)}getCookie(){return this.cookieService.get(n)??void 0}setCookie(e){this.cookieService.set(n,e)}getDefault(){return this.document.defaultView?.matchMedia?.("(prefers-color-scheme: dark)").matches?"dark":"light"}static \u0275fac=function(r){return new(r||i)};static \u0275prov=o({token:i,factory:i.\u0275fac,providedIn:"root"})};export{u as a};
